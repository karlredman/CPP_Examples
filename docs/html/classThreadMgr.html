<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Various C++ Examples (including IPC): ThreadMgr class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.5 -->
<div class="qindex">  <form class="search" action="search.php" method="get">
<a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a>  | <span class="search"><u>S</u>earch&nbsp;for&nbsp;<input class="search" type="text" name="query" value="" size="20" accesskey="s"/></span></form></div>
<h1>ThreadMgr Class Reference</h1>Collaboration diagram for ThreadMgr:<p><center><img src="classThreadMgr__coll__graph.png" border="0" usemap="#ThreadMgr__coll__map" alt="Collaboration graph"></center>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center><a href="classThreadMgr-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
A basic thread management class. 
<p>
<dl compact><dt><b>Author:</b></dt><dd>Karl N. Redman (<a href="mailto:parasyte@sleepingstill.com">parasyte@sleepingstill.com</a>)</dd></dl>
<dl compact><dt><b>Purpose:</b></dt><dd>This is an example class intended to be used as a guidline for the work required to handle pthreads where the main process (the parent of the initial threads) waits on a condition variable for the threads to terminate. The functions that are specified for the pthread_create are user defined. <br>
 <br>
 This class should be pretty fast and relatively easy to use for most general purpose thread programming. In general, it's a good place to start. <br>
 <br>
 Basic pthread "voidness" has been retained for demonstration purposes. It is concevable that this class could be instantiated from and / or altered to make the user interface easier to work with (in other words -we could get rid of much of the user end casting through inheritance).</dd></dl>
<dl compact><dt><b>Note:</b></dt><dd>This class is not intended for use by detached threads unless some of the functions are overridden. Also, the use of long casting was used in favor of readability in the interests of speed. </dd></dl>

<p>

<p>
Definition at line <a class="el" href="threadDeath3_8cc-source.html#l00060">60</a> of file <a class="el" href="threadDeath3_8cc-source.html">threadDeath3.cc</a>.<table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classThreadMgr.html#a0">ThreadMgr</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">constructor  <a href="#a0"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classThreadMgr.html#a1">cancel_thread</a> (pthread_t *tid)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">cancel a thread  <a href="#a1"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classThreadMgr.html#a2">condWait</a> (void **thread_return_val)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">wait on a condition variable for a thread to terminate  <a href="#a2"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>pthread_t&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classThreadMgr.html#a3">createThread</a> (void *(*thread_func)(void *), void *arg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">attempt to create a new thread and register it  <a href="#a3"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classThreadMgr.html#a4">threadsActive</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">return the number of active threads  <a href="#a4"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classThreadMgr.html#a5">no_threads_terminated</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">answers the question "are there no theads terminated?"  <a href="#a5"></a><br><br></td></tr>
<tr><td colspan=2><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classThreadMgr.html#b0">removeTerminated</a> (void **return_val)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">remove a terminated thread LIFO  <a href="#b0"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classThreadMgr.html#b1">addID</a> (pthread_t id, <a class="el" href="structThreadMgr_1_1func__arguments.html">func_arguments</a> *arg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">add a thread id to the id vector  <a href="#b1"></a><br><br></td></tr>
<tr><td colspan=2><br><h2>Static Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classThreadMgr.html#f0">func</a> (void *arg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">internal thread function  <a href="#f0"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classThreadMgr.html#f1">addTerminated</a> (<a class="el" href="classThreadMgr.html">ThreadMgr</a> *arg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">add a thread id to the m_terminated stack  <a href="#f1"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classThreadMgr.html#f2">shutdown_thread</a> (void *arg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">shutdown a thread from pthread_cleanup_pop().  <a href="#f2"></a><br><br></td></tr>
<tr><td colspan=2><br><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>pthread_mutex_t *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classThreadMgr.html#r0">m_mutex</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">mutex for data access (m_ids, m_terminated)  <a href="#r0"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>pthread_mutex_t *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classThreadMgr.html#r1">m_cond_mutex</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">mutex for condition variable  <a href="#r1"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>pthread_cond_t *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classThreadMgr.html#r2">m_cond_var</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">condition variable  <a href="#r2"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>std::map&lt; pthread_t, <a class="el" href="structThreadMgr_1_1func__arguments.html">ThreadMgr::func_arguments</a> * &gt;&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classThreadMgr.html#r3">m_ids</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">map of all thread ids and function attributes  <a href="#r3"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>std::stack&lt; pthread_t &gt;&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classThreadMgr.html#r4">m_terminated</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">stack of terminated thread ids  <a href="#r4"></a><br><br></td></tr>
</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a0" doxytag="ThreadMgr::ThreadMgr" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ThreadMgr::ThreadMgr </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
constructor 
<p>

<p>
<dl compact><dt><b>Note:</b></dt><dd>this function instantiates static pthread_x_t variables for mutexes and a condition variable </dd></dl>

<p>
Definition at line <a class="el" href="threadDeath3_8cc-source.html#l00080">80</a> of file <a class="el" href="threadDeath3_8cc-source.html">threadDeath3.cc</a>.
<p>
References <a class="el" href="threadDeath3_8cc-source.html#l00413">m_cond_mutex</a>, <a class="el" href="threadDeath3_8cc-source.html#l00416">m_cond_var</a>, and <a class="el" href="threadDeath3_8cc-source.html#l00410">m_mutex</a>.
<p>
<div class="fragment"><pre>00081   { 
00086     <span class="comment">//the data mutex</span>
00087     <span class="keyword">static</span> pthread_mutex_t mutex = PTHREAD_MUTEX_INITIALIZER; 
00088     <a class="code" href="classThreadMgr.html#r0">m_mutex</a> = &amp;mutex; 
00089 
00090     <span class="comment">//the condition variable mutex</span>
00091     <span class="keyword">static</span> pthread_mutex_t cond_mutex = PTHREAD_MUTEX_INITIALIZER;
00092     <a class="code" href="classThreadMgr.html#r1">m_cond_mutex</a> = &amp;cond_mutex;
00093 
00094     <span class="comment">//the condition variable</span>
00095     <span class="keyword">static</span> pthread_cond_t cond_var = PTHREAD_COND_INITIALIZER;
00096     <a class="code" href="classThreadMgr.html#r2">m_cond_var</a> = &amp;cond_var;
00097   }
</pre></div>    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="b1" doxytag="ThreadMgr::addID" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void ThreadMgr::addID </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">pthread_t&nbsp;</td>
          <td class="mdname" nowrap> <em>id</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="structThreadMgr_1_1func__arguments.html">func_arguments</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>arg</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline, protected]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
add a thread id to the id vector 
<p>

<p>
Definition at line <a class="el" href="threadDeath3_8cc-source.html#l00386">386</a> of file <a class="el" href="threadDeath3_8cc-source.html">threadDeath3.cc</a>.
<p>
References <a class="el" href="threadDeath3_8cc-source.html#l00419">m_ids</a>, and <a class="el" href="threadDeath3_8cc-source.html#l00410">m_mutex</a>.
<p>
Referenced by <a class="el" href="threadDeath3_8cc-source.html#l00181">createThread()</a>.
<p>
<div class="fragment"><pre>00387   {
00388     <span class="comment">//lock the data mutex</span>
00389     pthread_mutex_lock(m_mutex);
00390     
00391     <span class="comment">//add the thread to the std::map</span>
00392     <a class="code" href="classThreadMgr.html#r3">m_ids</a>.insert(std::make_pair(id, arg));
00393 
00394     <span class="comment">//unlock the data mutex</span>
00395     pthread_mutex_unlock(m_mutex);
00396   }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="f1" doxytag="ThreadMgr::addTerminated" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void* ThreadMgr::addTerminated </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classThreadMgr.html">ThreadMgr</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>arg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, static, protected]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
add a thread id to the m_terminated stack 
<p>

<p>
Definition at line <a class="el" href="threadDeath3_8cc-source.html#l00317">317</a> of file <a class="el" href="threadDeath3_8cc-source.html">threadDeath3.cc</a>.
<p>
References <a class="el" href="threadDeath3_8cc-source.html#l00416">m_cond_var</a>, <a class="el" href="threadDeath3_8cc-source.html#l00410">m_mutex</a>, and <a class="el" href="threadDeath3_8cc-source.html#l00422">m_terminated</a>.
<p>
Referenced by <a class="el" href="threadDeath3_8cc-source.html#l00265">func()</a>.
<p>
<div class="fragment"><pre>00318   { 
00319     <span class="comment">//pthread_mutex_lock(((ThreadMgr *)arg)-&gt;m_mutex);</span>
00320     pthread_mutex_lock(arg-&gt;<a class="code" href="classThreadMgr.html#r0">m_mutex</a>);
00321 
00322     <span class="comment">//add self to list of stuff to be terminated (joined)</span>
00323     arg-&gt;<a class="code" href="classThreadMgr.html#r4">m_terminated</a>.push(pthread_self());
00324 
00325     <span class="comment">//broadcast to threads waiting on the condition variable to notify</span>
00326     <span class="comment">//them to wake up</span>
00327     pthread_cond_broadcast(arg-&gt;<a class="code" href="classThreadMgr.html#r2">m_cond_var</a>);
00328 
00329     pthread_mutex_unlock(arg-&gt;<a class="code" href="classThreadMgr.html#r0">m_mutex</a>);
00330 
00331     <span class="comment">//return NULL -blah</span>
00332     <span class="keywordflow">return</span> NULL;
00333   }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="ThreadMgr::cancel_thread" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int ThreadMgr::cancel_thread </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">pthread_t *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>tid</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
cancel a thread 
<p>

<p>
<dl compact><dt><b>Returns:</b></dt><dd>return value of a pthread_cancel() for parameter tid </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>tid</em>&nbsp;</td><td>pointer to the thread id to kill</td></tr>
  </table>
</dl>
<dl compact><dt><b>Warning:</b></dt><dd>If the thread has allocated dynamic memory and has been canceled this class does not compensate. In other words, never cancel a thread (with this class) that allocates dynamic memory -you will lose your pointer. This is because pthread_cancel does not allow you to recieve anything back from a canceled thread. However, you could delete your pointer before you retrurn from the thread if that is your wish.<p>
use of the function pthread_cancel() for threads managed by this class may result in loss of dynamic memory pointers, or worse, a race condition for m_mutex resulting in a deadlock of the threads. Don not use pthread_cancel() for threads managed by this class. Use <a class="el" href="classThreadMgr.html#a1">ThreadMgr::cancel_thread()</a> instead.</dd></dl>
<dl compact><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>add more robust thread canceling ability</dd></dl>

<p>
Definition at line <a class="el" href="threadDeath3_8cc-source.html#l00100">100</a> of file <a class="el" href="threadDeath3_8cc-source.html">threadDeath3.cc</a>.
<p>
References <a class="el" href="threadDeath3_8cc-source.html#l00419">m_ids</a>, and <a class="el" href="threadDeath3_8cc-source.html#l00410">m_mutex</a>.
<p>
Referenced by <a class="el" href="threadDeath3_8cc-source.html#l00448">main()</a>.
<p>
<div class="fragment"><pre>00101   {
00126     <span class="comment">//cancel a thread</span>
00127     <span class="keywordtype">int</span> ret = 0;
00128     pthread_mutex_lock(m_mutex);        <span class="comment">//lock the data mutex </span>
00129     <a class="code" href="classThreadMgr.html#r3">m_ids</a>.erase(*tid);                  <span class="comment">//remove from id map</span>
00130 
00131     <span class="comment">//cancel the thread</span>
00132     ret = pthread_cancel(*tid);
00133     
00134     pthread_mutex_unlock(m_mutex);      <span class="comment">// unlock data mutex</span>
00135 
00136     <span class="keywordflow">return</span> ret; 
00137   }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="ThreadMgr::condWait" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int ThreadMgr::condWait </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void **&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>thread_return_val</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
wait on a condition variable for a thread to terminate 
<p>

<p>
<dl compact><dt><b>Purpose: </b></dt><dd>Act like a seamless condition variable. Allows a process to block until a thread has terminated and returns the thread functions return value through the parameter.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>a</em>&nbsp;</td><td>pointer to the pointer of the threads return value. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>pthread_join status from <a class="el" href="classThreadMgr.html#b0">removeTerminated()</a></dd></dl>
<dl compact><dt><b>Warning:</b></dt><dd>This function may not be safe for threads that are canceled </dd></dl>

<p>
Definition at line <a class="el" href="threadDeath3_8cc-source.html#l00140">140</a> of file <a class="el" href="threadDeath3_8cc-source.html">threadDeath3.cc</a>.
<p>
References <a class="el" href="threadDeath3_8cc-source.html#l00413">m_cond_mutex</a>, <a class="el" href="threadDeath3_8cc-source.html#l00416">m_cond_var</a>, <a class="el" href="threadDeath3_8cc-source.html#l00251">no_threads_terminated()</a>, and <a class="el" href="threadDeath3_8cc-source.html#l00336">removeTerminated()</a>.
<p>
Referenced by <a class="el" href="threadDeath3_8cc-source.html#l00448">main()</a>, <a class="el" href="threadDeath3_8cc-source.html#l00723">TwaitStringThreads()</a>, and <a class="el" href="threadDeath3_8cc-source.html#l00656">waitStringThreads()</a>.
<p>
<div class="fragment"><pre>00141   {
00156     <span class="keywordtype">int</span> ret = 0;
00157     
00158     <span class="comment">//condition variable mutex lock</span>
00159     pthread_mutex_lock(m_cond_mutex);
00160 
00161     <span class="comment">//check predicate</span>
00162     <span class="keywordflow">while</span>(<a class="code" href="classThreadMgr.html#a5">no_threads_terminated</a>())
00163       {
00164         <span class="comment">//wait on condition variable</span>
00165         pthread_cond_wait(m_cond_var, m_cond_mutex);
00166       }
00167 
00168 
00169     <span class="comment">//remove the thread from the terminated list (handle join)</span>
00170     ret = <a class="code" href="classThreadMgr.html#b0">removeTerminated</a>(thread_return_val);
00171 
00172     <span class="comment">//unlock</span>
00173     pthread_mutex_unlock(m_cond_mutex);
00174 
00175     <span class="comment">//return join status</span>
00176     <span class="keywordflow">return</span> ret;
00177   }
</pre></div>    </td>
  </tr>
</table>

<p>
Here is the call graph for this function:<p><center><img src="classThreadMgr_a2_cgraph.png" border="0" usemap="#classThreadMgr_a2_cgraph_map" alt=""></center>
<map name="classThreadMgr_a2_cgraph_map">
<area href="classThreadMgr.html#a5" shape="rect" coords="201,5,415,24" alt="">
<area href="classThreadMgr.html#b0" shape="rect" coords="216,48,400,66" alt="">
</map>
<a class="anchor" name="a3" doxytag="ThreadMgr::createThread" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> pthread_t ThreadMgr::createThread </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void *(*&nbsp;</td>
          <td class="mdname" nowrap> <em>thread_func</em>)(void *), </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>arg</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
attempt to create a new thread and register it 
<p>

<p>
<dl compact><dt><b>Purpose:</b></dt><dd>Create a new thread and register it for management by this class.</dd></dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on error, pthread_t thread ID on success</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>pointer</em>&nbsp;</td><td>to function to run as thread, pointer to argument. [i.e. createThread(myfunc, arg);]</td></tr>
  </table>
</dl>
<dl compact><dt><b>Note:</b></dt><dd>This function works by building the an argument list from the one provided by the user and some internal stuff in order to call an internal function that sets things up for return values, etc. and then calls the users function. This adds about the size of 8 (roughly) pointers to the memory usage of each thread being created -but that's the price for wanting to keep track of this stuff generically i guess. </dd></dl>

<p>
Definition at line <a class="el" href="threadDeath3_8cc-source.html#l00181">181</a> of file <a class="el" href="threadDeath3_8cc-source.html">threadDeath3.cc</a>.
<p>
References <a class="el" href="threadDeath3_8cc-source.html#l00386">addID()</a>, and <a class="el" href="threadDeath3_8cc-source.html#l00265">func()</a>.
<p>
Referenced by <a class="el" href="threadDeath3_8cc-source.html#l00448">main()</a>.
<p>
<div class="fragment"><pre>00182   {
00203     pthread_t tid = 0;          <span class="comment">// Id of thread</span>
00204     <span class="keywordtype">int</span> ret_val;                <span class="comment">// return value</span>
00205  
00206     <span class="comment">//arguments for the function</span>
00207     <span class="keyword">struct </span>func_arguments *arguments = <span class="keyword">new</span> func_arguments;
00208 
00209     arguments-&gt;func = thread_func;      <span class="comment">// users function</span>
00210     arguments-&gt;cancel_func = NULL;      <span class="comment">// NOT IMPLIMENTED</span>
00211     arguments-&gt;arg = arg;               <span class="comment">// users argument</span>
00212 
00213     <span class="comment">//this is the this pointer (so far, every thread get's one -eek!)</span>
00214     arguments-&gt;thisObject = <span class="keyword">this</span>;
00215 
00216     <span class="comment">//create a new thread</span>
00217     <span class="comment">/*</span>
00218 <span class="comment">      default attributes (for now), </span>
00219 <span class="comment">      internal function, func(), calls users function,</span>
00220 <span class="comment">      arguments contain other info + user's argument.</span>
00221 <span class="comment">    */</span>
00222     ret_val = pthread_create(&amp;tid, (pthread_attr_t *) NULL, func, (<span class="keywordtype">void</span> *)arguments);
00223 
00224     <span class="keywordflow">if</span>(ret_val == 0)
00225       {
00226         <span class="comment">//register the thread and arguments in the ids map</span>
00227         <a class="code" href="classThreadMgr.html#b1">addID</a>(tid, arguments);
00228     
00229         <span class="comment">//return thread id</span>
00230         <span class="keywordflow">return</span> tid;
00231       }
00232     <span class="keywordflow">else</span>
00233       std::cout &lt;&lt; <span class="stringliteral">"pthread_create FAIL"</span> &lt;&lt; std::endl;
00234 
00235 
00236     <span class="comment">//return 0 on error</span>
00237     <span class="keywordflow">return</span> 0;
00238   }
</pre></div>    </td>
  </tr>
</table>

<p>
Here is the call graph for this function:<p><center><img src="classThreadMgr_a3_cgraph.png" border="0" usemap="#classThreadMgr_a3_cgraph_map" alt=""></center>
<map name="classThreadMgr_a3_cgraph_map">
<area href="classThreadMgr.html#b1" shape="rect" coords="224,5,336,23" alt="">
<area href="classThreadMgr.html#f0" shape="rect" coords="228,47,332,66" alt="">
<area href="classThreadMgr.html#f1" shape="rect" coords="392,26,557,45" alt="">
<area href="classThreadMgr.html#f2" shape="rect" coords="385,69,564,87" alt="">
</map>
<a class="anchor" name="f0" doxytag="ThreadMgr::func" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void* ThreadMgr::func </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>arg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, static, protected]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
internal thread function 
<p>

<p>
<dl compact><dt><b>Purpose:</b></dt><dd>This function is called from the call to pthread_create() within member function createThread. This function handles basic thread management issues and is a wrapper around the user function -which is called from here as well.</dd></dl>
<dl compact><dt><b>Returns:</b></dt><dd>NONE -this function shouldn't return!!! it calls pthread_exit().</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>arg</em>&nbsp;</td><td>shold be a pointer to a <a class="el" href="structThreadMgr_1_1func__arguments.html">func_arguments</a> structure. </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="threadDeath3_8cc-source.html#l00265">265</a> of file <a class="el" href="threadDeath3_8cc-source.html">threadDeath3.cc</a>.
<p>
References <a class="el" href="threadDeath3_8cc-source.html#l00317">addTerminated()</a>, and <a class="el" href="threadDeath3_8cc-source.html#l00399">shutdown_thread()</a>.
<p>
Referenced by <a class="el" href="threadDeath3_8cc-source.html#l00181">createThread()</a>.
<p>
<div class="fragment"><pre>00266   {
00280     <span class="comment">//convenience this object</span>
00281     <a class="code" href="classThreadMgr.html">ThreadMgr</a> *thisObject = ((<span class="keyword">struct </span>func_arguments *)arg)-&gt;thisObject;
00282 
00283     <span class="comment">//return argument from user function</span>
00284     <span class="keywordtype">void</span> *tmpArg = NULL;
00285 
00286     <span class="comment">//basic cancel stuff -should be more robust</span>
00287     <span class="keyword">struct </span>func_arguments *cancel_arg = <span class="keyword">new</span> func_arguments;
00288     cancel_arg-&gt;cancel_func = <a class="code" href="classThreadMgr.html#f2">shutdown_thread</a>;
00289     cancel_arg-&gt;func = NULL;
00290     cancel_arg-&gt;arg = NULL;
00291     cancel_arg-&gt;thisObject = thisObject;
00292 
00293     <span class="comment">//set the cleanup function</span>
00294     pthread_cleanup_push(shutdown_thread, (<span class="keywordtype">void</span> *)cancel_arg);
00295 
00296     <span class="comment">//call the user's function</span>
00297     tmpArg = ((<span class="keyword">struct </span>func_arguments *)arg)-&gt;func( ((<span class="keyword">struct</span> func_arguments *)arg)-&gt;arg );
00298     <span class="comment">//std::cout &lt;&lt; "func() passing \"" &lt;&lt; *(std::string *)tmpArg &lt;&lt; "\" to pthread_exit()" &lt;&lt; std::endl;</span>
00299 
00300     <span class="comment">//delete (struct func_arguments *)arg;</span>
00301 
00302     <span class="comment">//pop the cleanup handler off the cleanup stack</span>
00303     <span class="comment">//delete the arg variable list from the createThread function.</span>
00304     pthread_cleanup_pop(1);
00305     
00306     <span class="comment">//add this thread to the terminated list</span>
00307     thisObject-&gt;<a class="code" href="classThreadMgr.html#f1">addTerminated</a>(thisObject);
00308 
00309     <span class="comment">//exit this thread</span>
00310     pthread_exit(tmpArg);
00311 
00312     <span class="comment">//we will never get here</span>
00313     <span class="keywordflow">return</span> NULL;
00314   }
</pre></div>    </td>
  </tr>
</table>

<p>
Here is the call graph for this function:<p><center><img src="classThreadMgr_f0_cgraph.png" border="0" usemap="#classThreadMgr_f0_cgraph_map" alt=""></center>
<map name="classThreadMgr_f0_cgraph_map">
<area href="classThreadMgr.html#f1" shape="rect" coords="179,5,344,24" alt="">
<area href="classThreadMgr.html#f2" shape="rect" coords="172,48,351,66" alt="">
</map>
<a class="anchor" name="a5" doxytag="ThreadMgr::no_threads_terminated" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool ThreadMgr::no_threads_terminated </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
answers the question "are there no theads terminated?" 
<p>

<p>
<dl compact><dt><b>Returns:</b></dt><dd>boolean of terminated threads in terminate queue </dd></dl>

<p>
Definition at line <a class="el" href="threadDeath3_8cc-source.html#l00251">251</a> of file <a class="el" href="threadDeath3_8cc-source.html">threadDeath3.cc</a>.
<p>
References <a class="el" href="threadDeath3_8cc-source.html#l00410">m_mutex</a>, and <a class="el" href="threadDeath3_8cc-source.html#l00422">m_terminated</a>.
<p>
Referenced by <a class="el" href="threadDeath3_8cc-source.html#l00140">condWait()</a>, and <a class="el" href="threadDeath3_8cc-source.html#l00448">main()</a>.
<p>
<div class="fragment"><pre>00252   {
00255     pthread_mutex_lock(m_mutex);
00256     <span class="keywordtype">bool</span> ret = <a class="code" href="classThreadMgr.html#r4">m_terminated</a>.empty();
00257     pthread_mutex_unlock(m_mutex);
00258     <span class="keywordflow">return</span> ret;
00259   }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="b0" doxytag="ThreadMgr::removeTerminated" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int ThreadMgr::removeTerminated </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void **&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>return_val</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, protected]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
remove a terminated thread LIFO 
<p>

<p>
<dl compact><dt><b>Returns:</b></dt><dd>result of pthread_join</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>pointer</em>&nbsp;</td><td>to user function return value pointer</td></tr>
  </table>
</dl>
<dl compact><dt><b>Note:</b></dt><dd>the void **retrun_val is a result of the pthread_join.</dd></dl>
<dl compact><dt><b>Warning:</b></dt><dd>the thread is unregistered only if the pthread_join was successfull. This may be a problem down the line (but VERY rare) </dd></dl>

<p>
Definition at line <a class="el" href="threadDeath3_8cc-source.html#l00336">336</a> of file <a class="el" href="threadDeath3_8cc-source.html">threadDeath3.cc</a>.
<p>
References <a class="el" href="threadDeath3_8cc-source.html#l00419">m_ids</a>, <a class="el" href="threadDeath3_8cc-source.html#l00410">m_mutex</a>, and <a class="el" href="threadDeath3_8cc-source.html#l00422">m_terminated</a>.
<p>
Referenced by <a class="el" href="threadDeath3_8cc-source.html#l00140">condWait()</a>.
<p>
<div class="fragment"><pre>00337   {
00345     <span class="keywordtype">int</span> ret = 0;
00346     pthread_t tempID;
00347 
00348     <span class="comment">//lock critical section</span>
00349     pthread_mutex_lock(m_mutex);
00350 
00351     <span class="comment">//make sure we have something</span>
00352     <span class="keywordflow">if</span>(!<a class="code" href="classThreadMgr.html#r4">m_terminated</a>.empty())
00353       {
00354         <span class="comment">//get id from stack</span>
00355         tempID = <a class="code" href="classThreadMgr.html#r4">m_terminated</a>.top();
00356 
00362         <span class="comment">//join with the terminated thread</span>
00363         <span class="keywordflow">if</span>( (ret = pthread_join(tempID, return_val)) == 0)
00364           {
00365             <span class="comment">//delete the arguments (created in createThread)</span>
00366             <span class="comment">//delete m_ids.find(tempID)-&gt;second;</span>
00367             
00368             <span class="comment">//get rid of the ID from active list</span>
00369             <a class="code" href="classThreadMgr.html#r3">m_ids</a>.erase(tempID);
00370             
00371             <span class="comment">//remove id from stack</span>
00372             <a class="code" href="classThreadMgr.html#r4">m_terminated</a>.pop();
00373           }
00374         <span class="keywordflow">else</span>
00375           std::cout &lt;&lt; <span class="stringliteral">"pthread_join() = "</span> &lt;&lt; ret &lt;&lt; std::endl;
00376       }
00377 
00378     <span class="comment">//unlock critical section</span>
00379     pthread_mutex_unlock(m_mutex);
00380 
00381     <span class="comment">//return value of pthread_join</span>
00382     <span class="keywordflow">return</span> ret;
00383   }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="f2" doxytag="ThreadMgr::shutdown_thread" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void ThreadMgr::shutdown_thread </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>arg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, static, protected]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
shutdown a thread from pthread_cleanup_pop(). 
<p>

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>arg</em>&nbsp;</td><td>must be void * per pthread_cleanup_x() </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="threadDeath3_8cc-source.html#l00399">399</a> of file <a class="el" href="threadDeath3_8cc-source.html">threadDeath3.cc</a>.
<p>
Referenced by <a class="el" href="threadDeath3_8cc-source.html#l00265">func()</a>.
<p>
<div class="fragment"><pre>00400   {
00403     <span class="keyword">delete</span> ((<span class="keyword">struct </span>func_arguments *)arg);
00404     <span class="keywordflow">return</span>;
00405   }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="ThreadMgr::threadsActive" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int ThreadMgr::threadsActive </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
return the number of active threads 
<p>

<p>
Definition at line <a class="el" href="threadDeath3_8cc-source.html#l00241">241</a> of file <a class="el" href="threadDeath3_8cc-source.html">threadDeath3.cc</a>.
<p>
References <a class="el" href="threadDeath3_8cc-source.html#l00419">m_ids</a>, and <a class="el" href="threadDeath3_8cc-source.html#l00410">m_mutex</a>.
<p>
Referenced by <a class="el" href="threadDeath3_8cc-source.html#l00448">main()</a>, <a class="el" href="threadDeath3_8cc-source.html#l00723">TwaitStringThreads()</a>, and <a class="el" href="threadDeath3_8cc-source.html#l00656">waitStringThreads()</a>.
<p>
<div class="fragment"><pre>00242   { 
00243     pthread_mutex_lock(m_mutex);
00244     <span class="keywordtype">int</span> ret =  <a class="code" href="classThreadMgr.html#r3">m_ids</a>.size(); 
00245     pthread_mutex_unlock(m_mutex);
00246     
00247     <span class="keywordflow">return</span> ret;
00248   }
</pre></div>    </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="r1" doxytag="ThreadMgr::m_cond_mutex" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> pthread_mutex_t* <a class="el" href="classThreadMgr.html#r1">ThreadMgr::m_cond_mutex</a><code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
mutex for condition variable 
<p>

<p>
Definition at line <a class="el" href="threadDeath3_8cc-source.html#l00413">413</a> of file <a class="el" href="threadDeath3_8cc-source.html">threadDeath3.cc</a>.
<p>
Referenced by <a class="el" href="threadDeath3_8cc-source.html#l00140">condWait()</a>, and <a class="el" href="threadDeath3_8cc-source.html#l00080">ThreadMgr()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r2" doxytag="ThreadMgr::m_cond_var" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> pthread_cond_t* <a class="el" href="classThreadMgr.html#r2">ThreadMgr::m_cond_var</a><code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
condition variable 
<p>

<p>
Definition at line <a class="el" href="threadDeath3_8cc-source.html#l00416">416</a> of file <a class="el" href="threadDeath3_8cc-source.html">threadDeath3.cc</a>.
<p>
Referenced by <a class="el" href="threadDeath3_8cc-source.html#l00317">addTerminated()</a>, <a class="el" href="threadDeath3_8cc-source.html#l00140">condWait()</a>, and <a class="el" href="threadDeath3_8cc-source.html#l00080">ThreadMgr()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r3" doxytag="ThreadMgr::m_ids" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::map&lt;pthread_t, <a class="el" href="structThreadMgr_1_1func__arguments.html">ThreadMgr::func_arguments</a> *&gt; <a class="el" href="classThreadMgr.html#r3">ThreadMgr::m_ids</a><code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
map of all thread ids and function attributes 
<p>

<p>
Definition at line <a class="el" href="threadDeath3_8cc-source.html#l00419">419</a> of file <a class="el" href="threadDeath3_8cc-source.html">threadDeath3.cc</a>.
<p>
Referenced by <a class="el" href="threadDeath3_8cc-source.html#l00386">addID()</a>, <a class="el" href="threadDeath3_8cc-source.html#l00100">cancel_thread()</a>, <a class="el" href="threadDeath3_8cc-source.html#l00336">removeTerminated()</a>, and <a class="el" href="threadDeath3_8cc-source.html#l00241">threadsActive()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r0" doxytag="ThreadMgr::m_mutex" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> pthread_mutex_t* <a class="el" href="classThreadMgr.html#r0">ThreadMgr::m_mutex</a><code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
mutex for data access (m_ids, m_terminated) 
<p>

<p>
Definition at line <a class="el" href="threadDeath3_8cc-source.html#l00410">410</a> of file <a class="el" href="threadDeath3_8cc-source.html">threadDeath3.cc</a>.
<p>
Referenced by <a class="el" href="threadDeath3_8cc-source.html#l00386">addID()</a>, <a class="el" href="threadDeath3_8cc-source.html#l00317">addTerminated()</a>, <a class="el" href="threadDeath3_8cc-source.html#l00100">cancel_thread()</a>, <a class="el" href="threadDeath3_8cc-source.html#l00251">no_threads_terminated()</a>, <a class="el" href="threadDeath3_8cc-source.html#l00336">removeTerminated()</a>, <a class="el" href="threadDeath3_8cc-source.html#l00080">ThreadMgr()</a>, and <a class="el" href="threadDeath3_8cc-source.html#l00241">threadsActive()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r4" doxytag="ThreadMgr::m_terminated" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::stack&lt;pthread_t&gt; <a class="el" href="classThreadMgr.html#r4">ThreadMgr::m_terminated</a><code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
stack of terminated thread ids 
<p>

<p>
Definition at line <a class="el" href="threadDeath3_8cc-source.html#l00422">422</a> of file <a class="el" href="threadDeath3_8cc-source.html">threadDeath3.cc</a>.
<p>
Referenced by <a class="el" href="threadDeath3_8cc-source.html#l00317">addTerminated()</a>, <a class="el" href="threadDeath3_8cc-source.html#l00251">no_threads_terminated()</a>, and <a class="el" href="threadDeath3_8cc-source.html#l00336">removeTerminated()</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="threadDeath3_8cc-source.html">threadDeath3.cc</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Tue Jun 15 03:48:58 2004 for Various C++ Examples (including IPC) by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.5 </small></address>
</body>
</html>
